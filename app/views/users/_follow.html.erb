<% unless current_user == user %>
  <% if current_user.following?(user) %>
    <%= form_with(model: current_user.active_relationships.find_by(followed_id: user.id), html: { method: :delete }, local: true) do |f| %>
      <%= button_tag :type => "submit", :class =>"btn btn-outline-danger btn-sm" do %>
      <i class="far fa-user"></i>フォロー解除<% end %>
    <% end %>
  <% else %>
    <%= form_with(model: current_user.active_relationships.build, local: true) do |f| %>
    <a><div><%= hidden_field_tag :followed_id, user.id %></div>
      <%= button_tag :type => "submit", :class =>"btn btn-outline-primary btn-sm" do %>
      <i class="fas fa-user"></i>フォロー
    <% end %></a>
    <% end %>
  <% end %>
<% else %>
  <%= link_to user_path(current_user), class: "btn btn-default btn-sm" do %>
    <i class="fas fa-user"></i>プロフィール
  <% end %>
<% end %>
